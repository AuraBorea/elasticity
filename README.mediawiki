= Elasticity =

Elasticity provides programmatic access to Amazon's Elastic Map Reduce service.

There are five API actions in the [http://docs.amazonwebservices.com/ElasticMapReduce/latest/DeveloperGuide/index.html EMR API], described below.  Please see the Amazon guide for details on these operations because the default values aren't obvious (e.g. the meaning of DescribeJobFlows without parameters).

'''NOTE''': The AWS plumbing (especially signing/authentication) was used from [http://www.rightscale.com/ RightScale's] amazing [https://github.com/rightscale/right_aws right_aws gem] which works extraordinarily well!

== AddInstanceGroups ==

''(not yet supported)''

== AddJobFlowSteps ==

''(not yet supported)''

== DescribeJobFlows ==

<pre>
  > emr = Elasticity::EMR.new(ENV["aws_access_key_id"], ENV["aws_secret_key"])
  > jobflows = emr.describe_jobflows
  > p jobflows.map(&:name)
  ["Hive Test", "Pig Test", "Interactive Hadoop", "Interactive Hive"]
</pre>

== ModifyInstanceGroups ==

''(not yet supported)''

== RunJobFlow ==

''(not yet supported)''

== TerminateJobFlows ==

When the job flow '''exists''', you will receive no output.  This is because Amazon does not return anything other than a 200 when you terminate a job flow :)  You'll want to continually poll with DescribeJobFlows to see when the job was actually terminated.

<pre>
  > emr = Elasticity::EMR.new(ENV["aws_access_key_id"], ENV["aws_secret_key"])
  > emr.terminate_jobflows("no-flow")
  >
</pre>

When the job flow '''doesn't exist''':

<pre>
  > emr = Elasticity::EMR.new(ENV["aws_access_key_id"], ENV["aws_secret_key"])
  > emr.terminate_jobflows("no-flow")
  ArgumentError: Job flow 'no-flow' does not exist.
</pre>


<!-- __NOTOC__ -->